# couple of debug exports:
#“NV_ACC_NOTIFY=3” or “NV_ACC_DEBUG=1” or (less verbose) "export PGI_ACC_NOTIFY=1"
#"PGI_ACC_DEBUG=1"

#previous cluster
#module load openmpi/3.1.2-pgi-20.7
#module load pgi/20.7
#export PGI_LIBS=/export/apps/CentOS7/pgi/2020/Linux_x86_64/20.7/

#new cluster
module load nvidia-sdk
export PGI_LIBS=/export/apps/RockyOS8/nvidia_hpc/2024_249/Linux_x86_64/24.9/

export SGPU_DIR=/home/paulzim/SlaterGPU

export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/home/paulzim/integrate/gpu/lib/
export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/home/paulzim/SlaterGPU/lib/
#export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/export/zimmerman/khoidang/eris/libcint/build_zimintel_pgi/libcint/lib64/
#export BLAS_INCLUDE_DIR=/usr/include/openblas

#export KMP_AFFINITY=verbose,scatter
#export KMP_AFFINITY=verbose,compact
export OMP_NUM_THREADS=4
export MPIR=/export/apps/CentOS7/pgi/2020/Linux_x86_64/20.7/comm_libs/mpi/bin/mpirun

#needed for 2RDM construction in nhbci
ulimit -s unlimited

alias r="~/integrate/gpu/zest.exe"
alias r2="~/integrate/gpu/zest.exe2"
alias t="~/integrate/gpu/test.exe"
alias mpirun="mpirun --bind-to none --mca btl ^openib"
alias m="/export/apps/CentOS7/pgi/2020/Linux_x86_64/20.7/comm_libs/mpi/bin/mpirun -n 1 --bind-to none --mca btl ^openib /home/paulzim/integrate/gpu/mpi.exe "
alias m2="/export/apps/CentOS7/pgi/2020/Linux_x86_64/20.7/comm_libs/mpi/bin/mpirun -n 2 --bind-to none --mca btl ^openib /home/paulzim/integrate/gpu/mpi.exe "
alias m4="/export/apps/CentOS7/pgi/2020/Linux_x86_64/20.7/comm_libs/mpi/bin/mpirun -n 4 --bind-to none --mca btl ^openib /home/paulzim/integrate/gpu/mpi.exe "
#alias m="mpirun -n 1 --bind-to socket --mca btl ^openib /home/paulzim/integrate/gpu/test.exe "
